<odoo>
    <!-- Regla para que los empleados solo puedan ver sus registros -->
    <record id="zattendance_rule_employee_access" model="ir.rule">
        <field name="name">Empleado: acceso solo a sus propios registros</field>
        <field name="model_id" ref="model_zattendance_day"/>
        <field name="domain_force">[('employee_id', '=', user.employee_id.id)]</field>
        <field name="groups" eval="[(4, ref('zattendance.group_employee'))]"/>
    </record>

    <!-- Regla para que los jefes puedan ver los registros de sus empleados -->
    <record id="zattendance_rule_boss_access" model="ir.rule">
        <field name="name">Jefe: acceso a registros de su equipo</field>
        <field name="model_id" ref="model_zattendance_day"/>
        <field name="domain_force">[('employee_id.parent_id.user_id', '=', user.id)]</field>
        <field name="groups" eval="[(4, ref('zattendance.group_boss'))]"/>
    </record>

    <!-- Regla para que el encargado de RRHH pueda ver todos los registros -->
    <record id="zattendance_rule_hr_manager_access" model="ir.rule">
        <field name="name">RRHH: acceso completo</field>
        <field name="model_id" ref="model_zattendance_day"/>
        <field name="domain_force">[]</field>
        <field name="groups" eval="[(4, ref('zattendance.group_hr_manager'))]"/>
    </record>
</odoo>
